<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Molecular Simulation Blog</title><link href="/" rel="alternate"></link><link href="/feeds/tag/bash.atom.xml" rel="self"></link><id>/</id><updated>2015-04-05T16:31:00-07:00</updated><entry><title>bash_intro</title><link href="/bash_intro.html" rel="alternate"></link><updated>2015-04-05T16:31:00-07:00</updated><author><name>Vasiliy Triandafilidi</name></author><id>tag:,2015-04-05:bash_intro.html</id><summary type="html">&lt;div class="section" id="how-to-work-in-unix-bash"&gt;
&lt;h2&gt;How to work in Unix Bash&lt;/h2&gt;
&lt;p&gt;--&lt;/p&gt;
&lt;p&gt;Imagine you have 10 files with two columns of data in each file. You want to load them and take an average of all second columns. Sounds like an easy Excell program. But it is not. When you have not 10 but 10 000 files, it will take ages for Excell to load them, also Excell is not free and is not installed everywhere. Fortunatelly there is an amazing tool that you may use : Bash shell. It is available by default in Linux/Mac OS , it can be installed via CygWin on Windows machine. It takes a couple of hours to learn, couple of days/weeks to master, and it will save you couple of years in future. Interested? So lets get started …&lt;/p&gt;
&lt;p&gt;Plan:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;What we need to know&lt;/li&gt;
&lt;li&gt;Elementary operations&lt;/li&gt;
&lt;li&gt;Secrets of mastering bash&lt;/li&gt;
&lt;li&gt;Useful links&lt;/li&gt;
&lt;li&gt;Here is how the linux console looks on Ubuntu 14.04&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="section" id="elementary-introduction"&gt;
&lt;h3&gt;Elementary Introduction&lt;/h3&gt;
&lt;p&gt;==&lt;/p&gt;
&lt;p&gt;In a nutshell we see computer memmory as a bunch of files and folders. When we use computer in our daily routine we navigate between different files and folders. Even when we surf the web we navigate between webpages which are the files on remote servers.
So the most “intersting” command would be ls&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;List all files and folders&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;ls
    empty_file1  empty_folder1
    Here empty_folder1 is a directory, and empty_file1 is a text file.
&lt;/pre&gt;&lt;/div&gt;
&lt;ol class="arabic simple" start="2"&gt;
&lt;li&gt;Navigate to directory&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd &lt;/span&gt;empty_folder1
Now we are in empty_folder1 directory. To &lt;span class="nb"&gt;test &lt;/span&gt;that we use
&lt;/pre&gt;&lt;/div&gt;
&lt;ol class="arabic simple" start="3"&gt;
&lt;li&gt;Show current directory&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;pwd&lt;/span&gt;
/home/vasiliy/tests
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To navigate back in the parent directory we use cd ..
Now lets use this 4 commands together&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;vasiliy@vasiliy-office:~/tests/empty_folder1&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;pwd&lt;/span&gt;
/home/vasiliy/tests/empty_folder1
vasiliy@vasiliy-office:~/tests/empty_folder1&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ..
vasiliy@vasiliy-office:~/tests&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;pwd&lt;/span&gt;
/home/vasiliy/tests
vasiliy@vasiliy-office:~/tests&lt;span class="nv"&gt;$ &lt;/span&gt;ls
empty_file1  empty_folder1
vasiliy@vasiliy-office:~/tests&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd &lt;/span&gt;empty_folder1/
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To create a file we may use any text editor we like. I myself am a big fan of Sublime-Text.. To copy file &lt;tt class="docutils literal"&gt;file1&lt;/tt&gt; to &lt;tt class="docutils literal"&gt;file2&lt;/tt&gt; we use cp &lt;tt class="docutils literal"&gt;file1&lt;/tt&gt; &lt;tt class="docutils literal"&gt;file2&lt;/tt&gt; command. To remove files we use rm filename command. To create an empty directory we use mkdir mynewcooldirectory.&lt;/p&gt;
&lt;ol class="arabic simple" start="4"&gt;
&lt;li&gt;Creating/Copying/Removing files&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;ls
&lt;span class="nv"&gt;$ &lt;/span&gt;subl empty_file2 &lt;span class="c"&gt;# edit file and save it&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;ls
empty_file2
&lt;span class="nv"&gt;$ &lt;/span&gt;cp empty_file2 empty_file2_copy
&lt;span class="nv"&gt;$ &lt;/span&gt;ls
empty_file2 empty_file2_copy
&lt;span class="nv"&gt;$ &lt;/span&gt;rm empty_file2_copy &lt;span class="c"&gt;#delete the copy file&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;ls
empty_file2
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If we want to rename file, we could copy it and consequently remove it, or use a move mv &lt;tt class="docutils literal"&gt;file1&lt;/tt&gt; &lt;tt class="docutils literal"&gt;file2&lt;/tt&gt; command which combines this procedures.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="must-know-commands"&gt;
&lt;h3&gt;Must-know commands&lt;/h3&gt;
&lt;p&gt;==&lt;/p&gt;
&lt;p&gt;So here is a little cheat sheet of required operations:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;LiSt files and folders ls&lt;/li&gt;
&lt;li&gt;Current directory pwd&lt;/li&gt;
&lt;li&gt;Navigate to directory(ChangeDirectory) cd foldername, cd ..&lt;/li&gt;
&lt;li&gt;CoPy/MoVe/ReMove files &lt;tt class="docutils literal"&gt;cp file1 file2&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;mv file1 file2&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;rm file1&lt;/tt&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="section" id="a-project"&gt;
&lt;h3&gt;A Project&lt;/h3&gt;
&lt;p&gt;==&lt;/p&gt;
&lt;p&gt;Problem:&lt;/p&gt;
&lt;p&gt;Create a binary bash script(a file that can be executed by linux shell) that:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;lists all files in the directory&lt;/li&gt;
&lt;li&gt;creates a set of files file1, file2, file3, … file10&lt;/li&gt;
&lt;li&gt;copies file1 to file1_copy, list all files&lt;/li&gt;
&lt;li&gt;removes file1, list all files&lt;/li&gt;
&lt;li&gt;removes all files in the directory&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Additional information:&lt;/p&gt;
&lt;p&gt;The files on computer are of two types human-readable - ASCII, and computer readable - binary. We (humans:)) can’t understand computer code because it is all 1s and 0s, at the same time computers can’t understand ASCII files unless we explain them how to transfer ASCII files into binary ones.
To create dummy empty file one may use touch &lt;tt class="docutils literal"&gt;file1&lt;/tt&gt; command.
To create a executable file we use: &lt;tt class="docutils literal"&gt;chmod +x bashscript.sh&lt;/tt&gt;, to delete all files in the directory we use &lt;tt class="docutils literal"&gt;*&lt;/tt&gt; wildcard so to delete all files it will be &lt;tt class="docutils literal"&gt;rm *.&lt;/tt&gt; But be very careful because it will delete all files in directory even some that you may need in future.&lt;/p&gt;
&lt;p&gt;algorithm:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;list all files in the directory ls&lt;/li&gt;
&lt;li&gt;create a list with for command&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;cp file1 file1_copy&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;ls&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;rm file1&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;ls&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;delete all files in the directory &lt;tt class="docutils literal"&gt;rm *&lt;/tt&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Solution:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;listing the files in the directory&amp;quot;&lt;/span&gt; &lt;span class="c"&gt;# use echo command to print information in the terminal&lt;/span&gt;
ls
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;starting the loop&amp;quot;&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="o"&gt;((&lt;/span&gt; &lt;span class="nv"&gt;i&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 1&lt;span class="p"&gt;;&lt;/span&gt; i &amp;lt;&lt;span class="o"&gt;=&lt;/span&gt; 10&lt;span class="p"&gt;;&lt;/span&gt; i++ &lt;span class="o"&gt;))&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;do&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;doing loop on iteration # = &lt;/span&gt;&lt;span class="nv"&gt;$i&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
    touch file&lt;span class="nv"&gt;$i&lt;/span&gt;
&lt;span class="k"&gt;done&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;done with the loop&amp;quot;&lt;/span&gt;
ls
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;copy ``file1`` in file1_copy&amp;quot;&lt;/span&gt;
cp file1 file1_copy
ls
&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;remove file1&amp;quot;&lt;/span&gt;
rm file1
ls
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;OUTPUT:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$~&lt;/span&gt;/tests&lt;span class="nv"&gt;$ &lt;/span&gt;bash simple_prog.sh
listing the files in the directory
simple_prog.sh
starting the loop
doing loop on iteration &lt;span class="c"&gt;# = 1&lt;/span&gt;
doing loop on iteration &lt;span class="c"&gt;# = 2&lt;/span&gt;
doing loop on iteration &lt;span class="c"&gt;# = 3&lt;/span&gt;
doing loop on iteration &lt;span class="c"&gt;# = 4&lt;/span&gt;
doing loop on iteration &lt;span class="c"&gt;# = 5&lt;/span&gt;
doing loop on iteration &lt;span class="c"&gt;# = 6&lt;/span&gt;
doing loop on iteration &lt;span class="c"&gt;# = 7&lt;/span&gt;
doing loop on iteration &lt;span class="c"&gt;# = 8&lt;/span&gt;
doing loop on iteration &lt;span class="c"&gt;# = 9&lt;/span&gt;
doing loop on iteration &lt;span class="c"&gt;# = 10&lt;/span&gt;
&lt;span class="k"&gt;done&lt;/span&gt; with the loop
file1  file10  file2  file3  file4  file5  file6  file7  file8  file9  simple_prog.sh
copy file1 in file1_copy
file1  file10  file1_copy  file2  file3  file4  file5  file6  file7  file8  file9  simple_prog.sh
remove file1
file10  file1_copy  file2  file3  file4  file5  file6  file7  file8  file9  simple_prog.sh
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If we change the mode to executable &lt;tt class="docutils literal"&gt;chmod +x simple_prog.sh&lt;/tt&gt;,
then we may run the program the following way &lt;tt class="docutils literal"&gt;./simple_prog.sh&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;Secrets of mastering Bash&lt;/p&gt;
&lt;p&gt;There is only one secret of becoming good with bash - practice, you may need to spend a little bit of energy now, but it will save you tons of time in the future.&lt;/p&gt;
&lt;p&gt;Useful links&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</summary><category term="bash"></category><category term="Analysis"></category></entry></feed>